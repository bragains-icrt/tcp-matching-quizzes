<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>A/C Components Matching Quiz (Dropdown, No-Duplicates)</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; vertical-align: top; }
    input[type="text"], select { width: 100%; padding: 4px; }
    .result { font-weight: bold; margin-top: 20px; }
    .correct-input { background-color: #d4edda; }
    .incorrect-input { background-color: #f8d7da; }
    .button-group { margin-top: 10px; display: flex; gap: 10px; flex-wrap: wrap; }
    button { margin-right: 10px; }
    .note { font-size: 0.95rem; margin: 0.5rem 0 1rem; color: #333; }
    .muted { color: #666; font-size: 0.95rem; }
  </style>
</head>
<body>
  <h2>A/C Components Matching Quiz (Dropdown)</h2>
  <p>Enter the sticky note number and select the correct part from the dropdown. Each part can only be used once.</p>
  <p>Once complete, notify your instructor and click "Submit" in their presence to see your score.</p>
  <p class="note"><strong>Legend used in dropdowns:</strong> A. Condenser Fan, B. Compressor, C. Indoor coil condensate drain, D. Contactor, E. Liquid Line, F. Liquid line service port, G. Suction pressure service port, H. Discharge line, I. Metering device, J. Suction line, K. Condenser, L. Evaporator, M. Capacitor, N. Disconnect</p>

  <form id="quizForm">
    <table>
      <thead>
        <tr><th>Function</th><th>Number</th><th>Select Part</th></tr>
      </thead>
      <tbody id="quizTable">
        <tr>
          <td>Pumps refrigerant in cooling mode</td>
          <td><input type="text" name="num-0" /></td>
          <td><select name="part-0" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Switches on compressor in Cooling</td>
          <td><input type="text" name="num-1" /></td>
          <td><select name="part-1" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Carries high pressure liquid to the metering device</td>
          <td><input type="text" name="num-2" /></td>
          <td><select name="part-2" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Carries high pressure vapor from compressor to condenser</td>
          <td><input type="text" name="num-3" /></td>
          <td><select name="part-3" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Condenses high pressure vapor into liquid</td>
          <td><input type="text" name="num-4" /></td>
          <td><select name="part-4" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Access high pressure side of the system</td>
          <td><input type="text" name="num-5" /></td>
          <td><select name="part-5" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Access low pressure side of the system</td>
          <td><input type="text" name="num-6" /></td>
          <td><select name="part-6" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Creates a pressure drop between liquid line and evaporator</td>
          <td><input type="text" name="num-7" /></td>
          <td><select name="part-7" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Speeds up the condensing process</td>
          <td><input type="text" name="num-8" /></td>
          <td><select name="part-8" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Carries low pressure vapor from evaporator to compressor</td>
          <td><input type="text" name="num-9" /></td>
          <td><select name="part-9" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Evaporator condensate drain</td>
          <td><input type="text" name="num-10" /></td>
          <td><select name="part-10" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Helps compressor get started and run more efficient</td>
          <td><input type="text" name="num-11" /></td>
          <td><select name="part-11" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Removes heat from air and boils refrigerant</td>
          <td><input type="text" name="num-12" /></td>
          <td><select name="part-12" class="part-select"></select></td>
        </tr>
        <tr>
          <td>Power switch for outdoor condenser</td>
          <td><input type="text" name="num-13" /></td>
          <td><select name="part-13" class="part-select"></select></td>
        </tr>
      </tbody>
    </table>
    <div class="button-group">
      <button type="submit">Submit</button>
      <button type="button" id="resetBtn">Reset selections</button>
      <button type="button" onclick="location.reload()">Refresh page</button>
    </div>
    <p class="muted">Reset selections clears your choices and re-enables all options.</p>
  </form>
  <div class="result" id="result"></div>

  <script>
    const data = [
      { func: 'Pumps refrigerant in cooling mode', num: '5',  part: 'Compressor' },
      { func: 'Switches on compressor in Cooling', num: '10', part: 'Contactor' },
      { func: 'Carries high pressure liquid to the metering device', num: '1',  part: 'Liquid Line' },
      { func: 'Carries high pressure vapor from compressor to condenser', num: '11', part: 'Discharge line' },
      { func: 'Condenses high pressure vapor into liquid', num: '6',  part: 'Condenser' },
      { func: 'Access high pressure side of the system', num: '2',  part: 'Liquid line service port' },
      { func: 'Access low pressure side of the system', num: '7',  part: 'Suction pressure service port' },
      { func: 'Creates a pressure drop between liquid line and evaporator', num: '3',  part: 'Metering device' },
      { func: 'Speeds up the condensing process', num: '13', part: 'Condenser Fan' },
      { func: 'Carries low pressure vapor from evaporator to compressor', num: '4',  part: 'Suction line' },
      { func: 'Evaporator condensate drain', num: '12', part: 'Indoor coil condensate drain' },
      { func: 'Helps compressor get started and run more efficient', num: '9',  part: 'Capacitor' },
      { func: 'Removes heat from air and boils refrigerant', num: '8',  part: 'Evaporator' },
      { func: 'Power switch for outdoor condenser', num: '14', part: 'Disconnect' }
    ];

    const labeledParts = [
      ['A', 'Condenser Fan'],
      ['B', 'Compressor'],
      ['C', 'Indoor coil condensate drain'],
      ['D', 'Contactor'],
      ['E', 'Liquid Line'],
      ['F', 'Liquid line service port'],
      ['G', 'Suction pressure service port'],
      ['H', 'Discharge line'],
      ['I', 'Metering device'],
      ['J', 'Suction line'],
      ['K', 'Condenser'],
      ['L', 'Evaporator'],
      ['M', 'Capacitor'],
      ['N', 'Disconnect']
    ];

    const selects = Array.from(document.querySelectorAll('.part-select'));

    function populateSelect(sel) {
      sel.innerHTML = '';
      const placeholder = document.createElement('option');
      placeholder.value = '';
      placeholder.textContent = '-- Select Part --';
      sel.appendChild(placeholder);

      labeledParts.forEach(([code, label]) => {
        const opt = document.createElement('option');
        opt.value = label;
        opt.textContent = code + '. ' + label;
        sel.appendChild(opt);
      });
    }

    selects.forEach(populateSelect);

    function updateDisables() {
      const used = new Set();
      selects.forEach(sel => {
        const v = sel.value;
        if (v) used.add(v);
      });

      selects.forEach(sel => {
        Array.from(sel.options).forEach(opt => {
          if (opt.value === '') { opt.disabled = false; return; }
          if (sel.value === opt.value) {
            opt.disabled = false;
          } else {
            opt.disabled = used.has(opt.value);
          }
        });
      });
    }

    selects.forEach(sel => {
      sel.addEventListener('change', () => {
        updateDisables();
      });
    });

    document.getElementById('resetBtn').addEventListener('click', () => {
      selects.forEach(sel => sel.value = '');
      updateDisables();
    });

    updateDisables();

    document.getElementById('quizForm').addEventListener('submit', function (e) {
      e.preventDefault();
      let correct = 0;
      const rows = document.querySelectorAll('#quizTable tr');
      rows.forEach((row, index) => {
        const numInput = row.querySelector('input');
        const partSelect = row.querySelector('select');

        const num = numInput.value.trim();
        const part = partSelect.value.trim();

        const numCorrect = num === data[index].num;
        const partCorrect = part === data[index].part;

        numInput.className = numCorrect ? 'correct-input' : 'incorrect-input';
        partSelect.className = partCorrect ? 'correct-input' : 'incorrect-input';

        if (numCorrect) correct++;
        if (partCorrect) correct++;
      });

      const total = data.length * 2;
      const score = Math.round((correct / total) * 100);
      document.getElementById('result').textContent = 'You scored ' + score + '% (' + correct + ' out of ' + total + ')';
    });
  </script>
</body>
</html>
